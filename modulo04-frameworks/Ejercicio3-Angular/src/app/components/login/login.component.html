<div class="login-container">
  @if (!loading ) {


  <mat-card class="login-card" appearance="outlined">
    <mat-card-header>
      <mat-card-title>
        Login
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="form" >
        <mat-form-field>
          <mat-label>Enter your email</mat-label>
          <input matInput placeholder="master@example.com" formControlName="username" autocomplete="username" required/>
          <mat-icon matPrefix>email</mat-icon>
          <mat-hint align="end">Has to be a email master....net </mat-hint>
          @if (username.invalid) {
          <mat-error>{{updateErrorMessage('username')}}</mat-error>
          }
        </mat-form-field>
        <mat-form-field>
          <mat-label>Enter your password</mat-label>
          <input matInput [type]="hide() ? 'password' : 'text'" formControlName="password" autocomplete="new-password" required/>
          <button mat-icon-button matSuffix (click)="clickEvent($event)" [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="hide()">
            <mat-icon>{{hide() ? 'visibility_off' : 'visibility'}}</mat-icon>
          </button>
          <mat-error *ngIf="password?.invalid && (password?.dirty || password?.touched)">{{updateErrorMessage('password')}}</mat-error>
        </mat-form-field>
      </form>
    </mat-card-content>
    <mat-card-actions>
      <button mat-flat-button type="button" [disabled]="form.invalid" (click)="handleLogin()">Submit</button>
    </mat-card-actions>

  </mat-card>
  } @else {
    <mat-spinner></mat-spinner>

  }
</div>
